# Data Analyst agent

Orchestrates intent parsing, SQL generation, and result analysis.

Generated using Enhanced Agent Studio with team support, advanced memory, FastAPI integration, and production-ready features.

## ðŸ¤– Team Members

- **Intent agent**: Extracts survey question metadata for NL2SQL.
- **NL2Sql Agent**: 
- **Analysis agent and chart generation **: 

## ðŸš€ Quick Start

### 1. Setup Environment
```bash
# Install dependencies
pip install -r requirements.txt
pip install -r teams/requirements.txt

# Configure environment variables
cp .env.example .env
# Edit .env with your API keys
```

### 2. Configure API Keys
Edit `.env` file with your credentials:
```bash
# Required API keys
GEMINI_API_KEY=your_gemini_api_key_here
GOOGLE_API_KEY=your_google_api_key_here
OPENAI_API_KEY=your_openai_api_key_here

# Database (if using SQL tools)
DATABASE_URL=postgresql://user:password@host:port/database
```

## ðŸ’¬ Usage Options

### Option 1: Interactive Chat (Recommended for testing)
```bash
python scripts/chat_with_data_analyst_agent.py
```

Features:
- **Real-time conversation** with the team
- **Session persistence** across interactions
- **Debug mode** for development
- **Team coordination** - agents work together

### Option 2: FastAPI Server (Production)
```bash
# Start the server
ag ws up

# Test the team endpoint
curl -X POST http://localhost:8000/v1/teams/run \
  -H "Content-Type: application/json" \
  -d '{"message": "Analyze our sales data", "user_id": "user123", "session_id": "session456"}'
```

### Option 3: Python Integration
```python
from teams.team import create_data_analyst_agent

# Create team instance
team = create_data_analyst_agent(
    user_id="your_user_id",
    session_id="your_session_id",
    debug_mode=True
)

# Run team coordination
response = team.run("Your query here")
print(response)
```

## ðŸ§  Team Architecture

This team uses a collaborative approach where:
1. **Multiple specialized agents** handle different aspects of the task
2. **Intelligent coordination** ensures proper task distribution
3. **Memory persistence** maintains context across interactions
4. **Tool sharing** allows agents to use specialized capabilities

## ðŸ”§ Configuration

### Team Structure
- **Team coordination**: Automatic task distribution
- **Memory system**: Persistent conversation history
- **Tool integration**: Shared access to databases, APIs, etc.
- **Multi-model support**: Different agents can use different AI models

### API Endpoints
- `POST /v1/teams/run` - Run team coordination on a query
- `GET /health` - Health check endpoint
- `GET /v1/teams/members` - List team members

## ðŸ›  Development

### Testing the Team
```bash
# Run comprehensive API tests
python scripts/test_data_analyst_agent_api.py

# Test individual components
python -m pytest tests/
```

### Customization
1. **Modify team members**: Edit `teams/team.py`
2. **Add new tools**: Update member configurations
3. **Adjust coordination**: Modify team orchestration logic
4. **Environment setup**: Update `.env` configuration

## ðŸ“Š Monitoring

- **Debug logs**: Enable with `debug_mode=True`
- **Performance tracking**: Built-in timing and metrics
- **Error handling**: Comprehensive exception management
- **Session management**: User and session tracking

---

Generated by Enhanced Agent Studio - Team-ready for production use! ðŸš€
